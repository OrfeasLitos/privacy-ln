\section{Blockchain \& Network Anonymity Proposal}
  \label{sec:app-net-anon}
  High-level proposal towards an application- and network-layer private fast
  payment system: There is an updateable CRS on-chain. When Alice wants to
  create a channel, she gets this CRS, updates it and gets a keypair and a new
  CRS as output. She publishes the new CRS on-chain -- this transaction also
  transfers the money from her layer-1 address into a special address which
  contains all funds of the system's participants, so her anonymity set (from
  now on) is all other users of such channels. Since she hasn't disclosed yet
  the public key that was generated by the update-CRS procedure (a.k.a layer-2
  address) and given that she waits for some time until she publishes it, her
  layer-2 address cannot be linked to her layer-1 address.

  When she wants to send money to someone with which she has an open channel in
  the layer-2 system, she generates a SNARK with her secret key (as generated by
  the update-CRS process) that proves she pays the public key of the
  counterparty. She sends it to the recipient through a mixnet, using the
  layer-2 public key as address, so her network address cannot be linked to her
  layer-2 address.

  When she wants to close the channel, she publishes the latest SNARK and takes
  her share of the funds from the special address. Timelocks are used as in
  Lightning to punish her if she publishes an old SNARK.

  \subimport{./}{anon-pay-func}
  \subimport{./}{anon-pay-prot}
